<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CRONOX — Carrito</title>
  <meta name="description" content="Carrito de CRONOX">
  <meta name="theme-color" content="#000000">
  <link rel="stylesheet" href="assets/store.css?v=31">
  <noscript><style>#preloader{display:none!important;}</style></noscript>
</head>
<body>

  <!-- Preloader -->
  <div id="preloader" class="preloader" aria-hidden="true">
    <img
      src="https://raw.githubusercontent.com/danir23007/Web_Cronox/refs/heads/main/assets/logo%20largo%20bueno.JPG"
      alt="CRONOX" class="preloader__logo" decoding="async">
  </div>

  <!-- Topbar fija opaca -->
  <header class="topbar topbar--page" id="topbar" role="banner">
    <div class="topbar__left">
      <a href="index.html#store" class="topbar__link">← Seguir comprando</a>
    </div>
    <a href="index.html" class="topbar__logo" aria-label="CRONOX — Inicio">
      <img
        src="https://raw.githubusercontent.com/danir23007/Web_Cronox/refs/heads/main/assets/logo%20largo%20bueno.JPG"
        alt="CRONOX" class="topbar__logo-img" decoding="async">
    </a>
    <nav class="topbar__right" aria-label="Navegación principal">
      <span class="topbar__link">Carrito</span>
    </nav>
  </header>

  <main class="store" style="padding-top:calc(24px + var(--topbar-h));">
    <h1 style="font:800 22px/1.2 system-ui;margin:0 0 16px;">Tu carrito</h1>

    <div id="cartContainer" style="max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr 340px;gap:18px;">
      <div>
        <div id="cartList"></div>
        <div id="cartEmpty" class="products-fallback" hidden>
          <p>Tu carrito está vacío.</p>
        </div>
      </div>

      <aside style="border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:16px;background:#0b0b0b;">
        <h2 style="font:700 16px/1 system-ui;margin:0 0 12px;">Resumen</h2>
        <div style="display:flex;justify-content:space-between;margin:6px 0;color:#cfcfcf;">
          <span>Subtotal</span><strong id="subtotal">—</strong>
        </div>
        <p style="color:#9a9a9a;font:12px/1.4 system-ui;margin:8px 0 14px;">El envío y los impuestos se calculan en el siguiente paso.</p>
        <button id="btnCheckout" class="product-modal__btn" style="width:100%;margin-bottom:8px;">Finalizar compra</button>
        <button id="btnClear" class="product-modal__btn product-modal__btn--ghost" style="width:100%;">Vaciar carrito</button>
      </aside>
    </div>
  </main>

  <footer class="footer">
    <p>© CRONOX</p>
  </footer>

  <!-- Failsafe preloader -->
  <script>
    (function(){
      function hide(){ var p=document.getElementById('preloader'); if(p) p.style.display='none'; }
      window.addEventListener('load', hide, {once:true});
      window.addEventListener('DOMContentLoaded', function(){ setTimeout(hide, 2000); }, {once:true});
      window.addEventListener('error', function(){ setTimeout(hide, 0); });
    })();
  </script>

  <script src="assets/app.js?v=31" defer></script>
  <script src="assets/cart.js?v=31" defer></script>
</body>
</html>
