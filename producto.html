<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Producto — CRONOX</title>
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Detalle de producto CRONOX — Dark streetwear premium.">

  <!-- CSS global de la tienda -->
  <link rel="stylesheet" href="assets/store.css?v=31" />
  <!-- PDP oscuro total -->
  <link rel="stylesheet" href="assets/product-page.css?v=3" />
</head>
<body>

  <!-- Topbar (idéntico al index) -->
  <header class="topbar topbar--transparent" id="topbar" role="banner">
    <div class="topbar__left">
      <!-- Menú (tres líneas) -->
      <button id="btnMenu" class="icon-btn" aria-label="Abrir filtros" aria-expanded="false" aria-controls="filtersPanel">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
             stroke-linecap="round" stroke-linejoin="round" class="icon" aria-hidden="true" focusable="false">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>

      <!-- Lupa -->
      <button id="btnSearch" class="icon-btn" aria-label="Buscar productos" aria-expanded="false" aria-controls="searchBar">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
             stroke-linecap="round" stroke-linejoin="round" class="icon" aria-hidden="true" focusable="false">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </button>
    </div>

    <!-- Logo centrado (igual que en index) -->
    <a href="index.html#store" class="topbar__logo" aria-label="CRONOX — Tienda">
      <img
        src="https://raw.githubusercontent.com/danir23007/Web_Cronox/refs/heads/main/assets/logo%20largo%20bueno.JPG"
        alt="CRONOX"
        class="topbar__logo-img"
        decoding="async"
      >
    </a>

    <nav class="topbar__right" aria-label="Navegación principal">
      <a href="cart.html" class="topbar__link topbar__cart" aria-label="Ver carrito">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-bag" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <path d="M16 10a4 4 0 0 1-8 0"/>
        </svg>
        <span class="cart-count" aria-label="Artículos en el carrito" hidden>0</span>
      </a>
    </nav>
  </header>

  <!-- Barra de búsqueda (misma que index para que funcione con app.js) -->
  <div id="searchBar" class="searchbar" hidden>
    <form id="searchForm" class="searchbar__form" role="search" action="index.html#store">
      <input id="searchInput" class="searchbar__input" type="text" placeholder="Buscar productos…" autocomplete="off" />
      <button class="searchbar__submit" type="submit" aria-label="Buscar"><span>Buscar</span></button>
    </form>
  </div>

  <!-- PDP negro completo -->
  <main id="productMain" class="pdp container" aria-live="polite">
    <div class="pdp__grid">
      <div class="pdp__media">
        <img id="pImage" alt="" loading="lazy">
      </div>
      <div class="pdp__info">
        <h1 id="pName" class="pdp__name"></h1>
        <p id="pPrice" class="pdp__price"></p>
        <p id="pDesc" class="pdp__desc"></p>

        <div class="pdp__actions">
          <label class="pdp__label">
            Talla
            <select id="pSize" class="pdp__select"></select>
          </label>

          <label class="pdp__label">
            Cant.
            <input id="pQty" class="pdp__qty" type="number" min="1" value="1" inputmode="numeric">
          </label>

          <button id="pAdd" class="btn-primary">Añadir al carrito</button>
        </div>

        <div class="pdp__meta">
          <ul>
            <li>Envío 24/48h</li>
            <li>Devoluciones 14 días</li>
            <li>Calidad premium CRONOX</li>
          </ul>
        </div>

        <nav class="pdp__breadcrumb" style="margin-top:18px">
          <a href="index.html#store" class="js-back">← Volver a la colección</a>
        </nav>
      </div>
    </div>

    <!-- Relacionados -->
    <section class="pdp-related">
      <h2 class="pdp-related__title">También puede interesarte</h2>
      <div id="relatedGrid" class="products-grid"></div>
    </section>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <footer class="footer">
    <div class="container">© <span id="anio"></span> CRONOX</div>
  </footer>

  <!-- Catálogo mínimo por si entras directo -->
  <script>
    window.CRONOX_PRODUCTS = window.CRONOX_PRODUCTS || [
      {
        id: "camiseta-washed-gris",
        name: "Camiseta Washed Gris",
        price: 34.95,
        priceLabel: "34,95 €",
        image: "assets/products/camiseta_washed_gris.png",
        categories: ["camisetas"],
        sizes: ["s","m","l","xl"],
        color: "gris",
        desc: "Camiseta premium lavado gris, corte oversized y tacto suave."
      },
      {
        id: "camiseta-washed-negra",
        name: "Camiseta Washed Negra",
        price: 34.95,
        priceLabel: "34,95 €",
        image: "assets/products/camiseta_washed_negra.png",
        categories: ["camisetas"],
        sizes: ["s","m","l","xl"],
        color: "negro",
        desc: "Camiseta premium lavado negro, corte oversized y tacto suave."
      }
    ];
    document.getElementById('anio').textContent = new Date().getFullYear();
  </script>

  <!-- JS -->
  <script src="assets/product-page.js?v=34" defer></script>
  <!-- Incluye app.js para que el topbar/búsqueda funcionen igual que en el index -->
  <script src="assets/app.js?v=31" defer></script>
  <script src="assets/cart-badge.js?v=31" defer></script>
</body>
</html>
