<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Producto — CRONOX</title>
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Detalle de producto CRONOX — Dark streetwear premium.">

  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml" sizes="any" />
  <link rel="alternate icon" href="assets/logo_browser.png" type="image/png" sizes="709x308" />
  <link rel="shortcut icon" href="assets/logo_browser.png" type="image/png" sizes="709x308" />
  <!-- CSS global -->
  <link rel="stylesheet" href="assets/store.css?v=58" />
  <!-- PDP oscuro total -->
  <link rel="stylesheet" href="assets/product-page.css?v=3" />

  <style>
    /* ===== PDP FINAL — FONDO NEGRO, BLOQUES BLANCOS, SIN ESQUINAS ===== */
    :root{ --topbar-h:64px; }

    html, body {
      background:#000;
      color:#eaeaea;
      margin:0;
      padding:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
    }

    /* Topbar negra y fija */
    .topbar{
      position:fixed;
      top:0; left:0; right:0;
      height:var(--topbar-h);
      background:#000 !important;
      backdrop-filter:none !important;
      border-bottom:1px solid rgba(255,255,255,.08);
      z-index:1000;
    }

    body { padding-top: var(--topbar-h); }

    .topbar__logo-img{ max-height:32px; }

    /* PDP layout */
    main.pdp {
      padding-top: 32px;
      padding-bottom: 60px;
    }

    .pdp__grid{
      display:grid;
      grid-template-columns:1fr;
      gap:24px;
    }
    @media (min-width:900px){
      .pdp__grid{ grid-template-columns:1.1fr .9fr; gap:28px; }
    }

    /* Galería principal */
    .pdp__visual{
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .pdp__media{
      position:relative;
      background:#fff;
      border:1px solid rgba(255,255,255,.12);
      border-radius:0;
      min-height:320px;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .pdp__media-viewport{
      width:100%;
      height:100%;
      display:grid;
      place-items:center;
    }
    .pdp__media-img{
      width:100%;
      height:100%;
      max-height:75vh;
      object-fit:contain;
      display:none;
      background:#fff;
      transition:transform .25s ease;
    }
    .pdp__media-img.is-active{ display:block; }
    .pdp__media-arrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      border:0;
      background:transparent;
      color:#000;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:32px;
      font-weight:600;
      line-height:1;
      cursor:pointer;
      padding:6px;
      opacity:.82;
      transition:transform .2s ease, opacity .2s ease;
      z-index:6;
    }
    .pdp__media-arrow span{ pointer-events:none; }
    .pdp__media-arrow.prev{ left:12px; }
    .pdp__media-arrow.next{ right:12px; }
    .pdp__media-arrow:hover,
    .pdp__media-arrow:focus-visible{
      opacity:1;
      transform:translateY(-50%) scale(1.08);
    }
    .pdp__media-arrow:focus-visible{
      outline:2px solid rgba(0,0,0,.45);
      outline-offset:4px;
    }
    .pdp__media-arrow[hidden]{ display:none; }

    .pdp__thumbs{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:10px;
    }
    .pdp__thumbs[hidden]{ display:none; }
    .pdp__thumb{
      border:1px solid rgba(255,255,255,.14);
      background:#fff;
      padding:0;
      cursor:pointer;
      display:block;
      aspect-ratio:1/1;
      overflow:hidden;
      position:relative;
      transition:border-color .2s ease, transform .2s ease;
    }
    .pdp__thumb img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
      background:#fff;
    }
    .pdp__thumb:hover{ transform:translateY(-2px); }
    .pdp__thumb:focus-visible{
      outline:2px solid #fff;
      outline-offset:2px;
    }
    .pdp__thumb.is-active{
      outline:2px solid #fff;
      outline-offset:2px;
    }
    @media (min-width:768px){
      .pdp__thumbs{
        display:flex;
        flex-wrap:wrap;
        gap:12px;
      }
      .pdp__thumb{
        flex:0 0 110px;
        max-width:120px;
      }
    }
    @media (min-width:900px){
      .pdp__visual{ gap:16px; }
    }
    @media (hover:hover) and (pointer:fine){
      .pdp__media.has-zoom{ cursor:zoom-in; }
      .pdp__media.has-zoom.is-zoomed{ cursor:zoom-in; }
      .pdp__media.has-zoom.is-zoomed-max{ cursor:zoom-out; }
    }

    /* Info derecha */
    .pdp__info{ display:flex; flex-direction:column; gap:12px; }
    .pdp__name{
      font-size: clamp(22px, 3.5vw, 32px);
      letter-spacing:.02em;
      margin:.2em 0 0;
      text-transform:uppercase;
    }
    .pdp__price{ color:#ddd; font-weight:700; font-size: clamp(18px, 2.5vw, 22px); margin:0; }
    .pdp__desc{ color:#cfcfcf; line-height:1.6; margin:0 0 .8em; }

    .pdp__actions{
      display:flex;
      flex-direction:column;
      gap:16px;
      align-items:flex-start;
      width:fit-content;
      max-width:100%;
    }
    .pdp__size-block{
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:flex-start;
      width:100%;
    }
    .pdp__label-text{ font-size:13px; letter-spacing:.08em; text-transform:uppercase; color:#bbb; }
    .pdp__size-buttons{ display:inline-flex; flex-wrap:wrap; gap:10px; justify-content:flex-start; }
    .size-btn{
      background:#0f0f0f;
      border:1px solid rgba(255,255,255,.18);
      color:#fff;
      border-radius:0;
      padding:12px 18px;
      min-width:58px;
      text-transform:uppercase;
      letter-spacing:.06em;
      font-weight:600;
      font-size:13px;
      cursor:pointer;
      transition:background .2s ease, color .2s ease, border-color .2s ease;
    }
    .size-btn:hover{ border-color:#fff; }
    .size-btn.is-active,
    .size-btn[aria-checked="true"]{
      background:#fff;
      color:#000;
      border-color:#fff;
    }
    .size-btn:focus-visible{
      outline:2px solid #fff;
      outline-offset:2px;
    }
    #pAdd{
      align-self:stretch;
      width:100%;
      max-width:none;
    }

    .pdp__details{ margin-top:24px; display:flex; flex-direction:column; }
    .pdp__accordion{
      background:transparent;
      border:0;
      padding:0;
    }
    .pdp__accordion + .pdp__accordion{ border-top:1px solid rgba(255,255,255,.12); }
    .pdp__accordion summary{
      list-style:none;
      cursor:pointer;
      padding:12px 0;
      font-weight:600;
      letter-spacing:.05em;
      text-transform:uppercase;
      display:flex;
      justify-content:space-between;
      align-items:center;
      color:#eaeaea;
      font-size:13px;
    }
    .pdp__accordion summary::-webkit-details-marker{ display:none; }
    .pdp__accordion summary::after{
      content:"+";
      font-weight:400;
      margin-left:12px;
    }
    .pdp__accordion[open] summary{ border-bottom:1px solid rgba(255,255,255,.12); }
    .pdp__accordion[open] summary::after{ content:"−"; }
    .pdp__accordion-content{ padding:12px 0 16px; color:#cfcfcf; line-height:1.6; font-size:13px; }
    .pdp__details-list{ margin:0; padding-left:18px; }
    .pdp__details-list li{ margin-bottom:6px; }
    .pdp__details-list li:last-child{ margin-bottom:0; }
    .pdp__size-guide-placeholder{ margin:0; color:#bcbcbc; font-size:13px; }

    .btn-primary{
      background:#fff;
      color:#000;
      font-weight:800;
      border:0;
      border-radius:0;
      padding:12px 16px;
      cursor:pointer;
      transition:transform .2s ease, opacity .2s ease;
    }
    .btn-primary:active{ transform:scale(.98); }
    .btn-primary:hover{ opacity:.9; }

    .pdp__breadcrumb a{
      color:#eaeaea;
      text-decoration:none;
      opacity:.9;
    }
    .pdp__breadcrumb a:hover{ text-decoration:underline; }

    /* Relacionados — fondo blanco en imágenes, sin esquinas */
    .pdp-related{ margin-top:42px; }
    .pdp-related__title{
      font-size: clamp(18px, 2.6vw, 22px);
      margin: 0 0 24px;
      letter-spacing:.06em;
      text-transform:uppercase;
    }

    .products-grid{
      display:flex;
      flex-wrap:wrap;
      gap:16px;
      justify-content:flex-start;
      align-items:stretch;
      margin:0;
      padding:0 12px;
    }
    @media (min-width:768px){
      .products-grid{ gap:20px; }
    }

    .product-card{
      background:#000;
      border:0;
      border-radius:0;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      text-decoration:none;
      color:#fff;
      transition:transform .2s ease, box-shadow .2s ease;
      flex:0 0 220px;
      max-width:220px;
    }
    .product-card:hover{ transform:translateY(-2px); }
    @media (max-width:520px){
      .product-card{
        flex:1 1 100%;
        max-width:100%;
      }
    }

    .product-img{
      width:100%;
      aspect-ratio:1/1;
      object-fit:contain;
      background:#fff;
      border-radius:0;
      position:static;
      opacity:1;
      height:auto;
      display:block;
    }
    .product-card__info{
      margin-top:auto;
      background:#000;
      padding:12px 14px 14px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
      text-align:center;
    }
    .product-name{
      margin:0;
      font-weight:700;
      font-size:14px;
      letter-spacing:.08em;
      text-transform:uppercase;
    }
    .product-price{
      margin:0;
      color:#e6e6e6;
      font-size:13px;
    }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom:24px;
      transform:translateX(-50%) translateY(20px);
      background:#111;
      border:1px solid rgba(255,255,255,.12);
      padding:10px 14px;
      border-radius:0;
      opacity:0;
      pointer-events:none;
      transition:opacity .25s ease, transform .25s ease;
      z-index:1200;
      color:#fff;
    }
    .toast.show{ opacity:1; transform:translateX(-50%) translateY(0); }
  </style>
</head>
<body>

  <div id="overlay" class="overlay" hidden></div>

  <!-- Topbar (idéntica al index pero negra opaca) -->
  <header class="topbar topbar--page" id="topbar" role="banner">
    <div class="topbar__left">
      <button id="btnMenu" class="icon-btn" aria-label="Abrir filtros" aria-expanded="false" aria-controls="filtersPanel">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
             stroke-linecap="round" stroke-linejoin="round" class="icon" aria-hidden="true" focusable="false">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>

      <button id="btnSearch" class="icon-btn" aria-label="Buscar productos" aria-expanded="false" aria-controls="searchBar">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
             stroke-linecap="round" stroke-linejoin="round" class="icon" aria-hidden="true" focusable="false">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </button>
    </div>

    <a href="index.html#store" class="topbar__logo" aria-label="CRONOX — Tienda">
      <img
        src="assets/logo_banner.png"
        alt="CRONOX"
        class="topbar__logo-img"
        decoding="async"
      >
    </a>

    <nav class="topbar__right" aria-label="Navegación principal">
      <a href="#" class="topbar__link topbar__profile" id="profileBtn" aria-label="Iniciar sesión" title="Iniciar sesión">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-user" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M4 21v-2a4 4 0 0 1 3-3.87"></path>
          <circle cx="12" cy="7.5" r="4"></circle>
        </svg>
      </a>

      <a href="favorites.html" class="topbar__link topbar__fav" aria-label="Ver favoritos">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-star" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="12 2 15.09 8.26 22 9.27 17.3 13.97 18.18 21 12 17.77 5.82 21 6.7 13.97 2 9.27 8.91 8.26 12 2"></polygon>
        </svg>
        <span class="fav-count" hidden>0</span>
      </a>

      <a href="cart.html" class="topbar__link topbar__cart" aria-label="Ver carrito">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-bag" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <path d="M16 10a4 4 0 0 1-8 0"/>
        </svg>
        <span class="cart-count" aria-label="Artículos en el carrito" hidden>0</span>
      </a>
    </nav>
  </header>

  <!-- Barra de búsqueda -->
  <div id="searchBar" class="searchbar" hidden aria-hidden="true">
    <div class="searchbar__inner">
      <form id="searchForm" class="searchbar__form" role="search" action="index.html#store">
        <input id="searchInput" class="searchbar__input" type="text" placeholder="Buscar productos…" autocomplete="off" />
        <button class="searchbar__submit" type="submit" aria-label="Buscar"><span>Buscar</span></button>
      </form>
      <button type="button" class="searchbar__close" aria-label="Cerrar búsqueda">×</button>
    </div>
  </div>

  <!-- Menú lateral reutilizable -->
  <aside id="filtersPanel" class="black-menu" hidden aria-label="Navegación de categorías" role="dialog" aria-modal="true">
    <button class="filters-close" aria-label="Cerrar menú">✕</button>
    <nav class="black-menu__list" role="menu">
      <a class="black-menu__link" role="menuitem" href="tienda.html">Toda la oscuridad</a>
      <a class="black-menu__link" role="menuitem" href="tienda-camisetas.html">Camisetas</a>
      <a class="black-menu__link" role="menuitem" href="tienda-sudaderas.html">Sudaderas</a>
      <a class="black-menu__link" role="menuitem" href="tienda-accesorios.html">Accesorios</a>
    </nav>
  </aside>

  <!-- PDP -->
  <main id="productMain" class="pdp container" aria-live="polite">
    <div class="pdp__grid">
      <div class="pdp__visual">
        <div class="pdp__media" id="pMedia">
          <button id="pMediaPrev" class="pdp__media-arrow prev" type="button" aria-label="Imagen anterior" hidden>
            <span aria-hidden="true">‹</span>
          </button>
          <div class="pdp__media-viewport" id="pMediaViewport">
            <img id="pImage" class="pdp__media-img is-active" alt="" loading="lazy" decoding="async">
          </div>
          <button id="pMediaNext" class="pdp__media-arrow next" type="button" aria-label="Imagen siguiente" hidden>
            <span aria-hidden="true">›</span>
          </button>
        </div>
        <div id="pThumbs" class="pdp__thumbs" aria-label="Más imágenes del producto" hidden></div>
      </div>
      <div class="pdp__info">
        <h1 id="pName" class="pdp__name"></h1>
        <p id="pPrice" class="pdp__price"></p>
        <p id="pDesc" class="pdp__desc"></p>

        <div class="pdp__actions">
          <div class="pdp__size-block">
            <span class="pdp__label-text">Talla</span>
            <div id="pSizeGroup" class="pdp__size-buttons" role="radiogroup" aria-label="Selecciona una talla"></div>
          </div>

          <button id="pAdd" class="btn-primary">Añadir al carrito</button>
        </div>

        <section class="pdp__details" aria-label="Especificaciones del producto">
          <details class="pdp__accordion">
            <summary>Detalles del producto</summary>
            <div class="pdp__accordion-content">
              <ul class="pdp__details-list">
                <li>COMPOSICIÓN: 100% Algodón, 240gsm</li>
                <li>Corte: Mid-Cropped, Boxy fit</li>
                <li>Diseño: Camiseta con lavado ácido, doble bordado frontal y trasero</li>
              </ul>
            </div>
          </details>
          <details class="pdp__accordion">
            <summary>Guía de tallas</summary>
            <div class="pdp__accordion-content">
              <p class="pdp__size-guide-placeholder">Añadiremos la guía de tallas muy pronto.</p>
            </div>
          </details>
        </section>

        <nav class="pdp__breadcrumb" style="margin-top:18px">
          <a href="index.html#store" class="js-back">← Volver a la colección</a>
        </nav>
      </div>
    </div>

    <section class="pdp-related">
      <h2 class="pdp-related__title">Combina, complementa, oscurécete</h2>
      <div id="relatedGrid" class="products-grid"></div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <footer class="footer">
    <div class="container">© <span id="anio"></span> CRONOX</div>
  </footer>

  <script>
    window.CRONOX_PRODUCTS = window.CRONOX_PRODUCTS || [
      {
        id: "camiseta-washed-gris",
        name: "Grey Core Tee",
        price: 34.95,
        priceLabel: "34,95 €",
        image: "assets/products/camiseta_washed_gris.png",
        images: [
          "assets/products/camiseta_washed_gris.png",
          "assets/products/camiseta_washed_gris_2.png"
        ],
        categories: ["camisetas"],
        sizes: ["s","m","l","xl","xxl"],
        color: "gris",
        desc: "Me he peleado con el proveedor que me las hacía porque decían que les exigía demasiado para una camiseta básica, asique si se acaban no hay restock <3"
      },
      {
        id: "camiseta-washed-negra",
        name: "Black Core Tee",
        price: 34.95,
        priceLabel: "34,95 €",
        image: "assets/products/camiseta_washed_negra.png",
        images: [
          "assets/products/camiseta_washed_negra.png",
          "assets/products/camiseta_washed_negra_2.png"
        ],
        categories: ["camisetas"],
        sizes: ["s","m","l","xl","xxl"],
        color: "negro",
        desc: "Me he peleado con el proveedor que me las hacía porque decían que les exigía demasiado para una camiseta básica, asique si se acaban no hay restock <3"
      }
    ];
    document.getElementById('anio').textContent = new Date().getFullYear();
  </script>

  <script src="assets/product-page.js?v=35" defer></script>
  <script src="assets/app.js?v=48" defer></script>
  <script src="assets/cart-badge.js?v=31" defer></script>
</body>
</html>
